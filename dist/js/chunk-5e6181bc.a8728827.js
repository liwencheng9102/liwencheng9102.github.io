(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e6181bc"],{"368a":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chatbox"},[s("div",{staticClass:"navHead"},[s("a-icon",{staticClass:"leftIcon",attrs:{type:"left"},on:{click:t.backRouter}}),s("span",[t._v(t._s(t.$route.params.username))]),s("a-icon",{staticClass:"userIcon",attrs:{type:"user"}})],1),s("div",{ref:"msgWrapper",staticClass:"contentBox"},[s("div",{staticClass:"boxWrapper"},t._l(t.msgList,function(e,r){return s("div",{key:r,staticClass:"userChat",class:{self:e.self}},[s("a-avatar",{staticClass:"avatar",attrs:{icon:"user"}}),s("div",{staticClass:"bubble"},[s("p",[t._v(t._s(e.data))])])],1)}),0)]),s("div",{staticClass:"sendControl"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],attrs:{type:"text"},domProps:{value:t.msg},on:{input:function(e){e.target.composing||(t.msg=e.target.value)}}}),s("a-icon",{staticClass:"smileIcon",attrs:{type:"smile"}}),s("button",{class:["btn",{active:t.btnActive}],on:{click:t.send}},[t._v("发送")])],1)])},a=[],o=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),c=s("2f62"),n=s("1fba");function i(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,r)}return s}function l(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?i(s,!0).forEach(function(e){Object(o["a"])(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):i(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var u={name:"chatbox",data:function(){return{msg:""}},computed:l({},Object(c["c"])(["msgList"]),{btnActive:function(){return!!this.msg.trim()}}),methods:l({},Object(c["b"])(["sendTextMeg"]),{backRouter:function(){this.$router.go(-1)},send:function(){if(this.msg.trim()){var t={to:this.$route.params.username,msg:this.msg};this.sendTextMeg(t),this.msg=""}},initalBScroller:function(){this.msgScroller?this.msgScroller.refresh():this.msgScroller=new n["a"](this.$refs.msgWrapper,{click:!0})}}),watch:{msgList:function(){this.initalBScroller(),this.msgScroller.scrollTo(0,this.msgScroller.maxScrollY,500)}},beforeMount:function(){var t=localStorage.getItem(this.$store.state.user.username);t&&(this.$store.state.msgDataSource=JSON.parse(t))},mounted:function(){this.initalBScroller(),this.msgScroller.scrollTo(0,this.msgScroller.maxScrollY)},updated:function(){this.initalBScroller(),this.msgScroller.scrollTo(0,this.msgScroller.maxScrollY)},beforeDestroy:function(){this.msgScroller.destroy(),this.msgScroller=null}},m=u,f=(s("7a4a"),s("2877")),p=Object(f["a"])(m,r,a,!1,null,"62039fb4",null);e["default"]=p.exports},6266:function(t,e,s){},"7a4a":function(t,e,s){"use strict";var r=s("6266"),a=s.n(r);a.a}}]);
//# sourceMappingURL=chunk-5e6181bc.a8728827.js.map